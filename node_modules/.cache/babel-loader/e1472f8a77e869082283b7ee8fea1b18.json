{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Personal\\\\OneDrive\\\\Documents\\\\GitHub\\\\FreshBuy-Ecommerce-React\\\\src\\\\components\\\\productCard\\\\ProductCard.jsx\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport { useData } from \"../../contexts\";\nimport { getWishlist, getCartlist, addCartlist, editCartlist, addWishlist, deleteWishlist } from \"../../services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductCard = _ref => {\n  _s();\n\n  let {\n    product\n  } = _ref;\n  const {\n    data,\n    dispatch,\n    token\n  } = useData();\n  const wish = data.wishlist.some(item => item._id === product._id) ? \"fas fa-heart wishlisted\" : \"far fa-heart\";\n\n  async function addWish(product, tokens) {\n    const responsewishlist = await getWishlist({\n      encodedToken: tokens\n    });\n\n    if (!responsewishlist.data.wishlist.find(item => item._id === product._id)) {\n      const res = await addWishlist({\n        product: product,\n        encodedToken: tokens\n      });\n      dispatch({\n        type: \"LOAD_WISHLIST\",\n        payload: res.data.wishlist\n      });\n    }\n  }\n\n  async function deleteWish(productid, tokens) {\n    const responsewishlist = await deleteWishlist({\n      productId: productid,\n      encodedToken: tokens\n    });\n    dispatch({\n      type: \"LOAD_WISHLIST\",\n      payload: responsewishlist.data.wishlist\n    });\n  }\n\n  async function addCart(product, tokens) {\n    const responsew = await getCartlist({\n      encodedToken: tokens\n    });\n\n    if (!responsew.data.cart.find(item => item._id === product._id)) {\n      const res = await addCartlist({\n        product: product,\n        encodedToken: tokens\n      });\n      dispatch({\n        type: \"LOAD_CART\",\n        payload: res.data.cart\n      });\n    } else {\n      const res = await editCartlist({\n        productId: product._id,\n        encodedToken: tokens,\n        type: \"increment\"\n      });\n      console.log(res.data.cart);\n      dispatch({\n        type: \"LOAD_CART\",\n        payload: res.data.cart\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card-container vertical\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-img vertical-img border-bottom\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.image,\n        alt: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-details card-details-vertical\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"card-heading\",\n        children: [product.title, /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: wish,\n            onClick: () => wish === \"far fa-heart\" ? addWish(product, token) : deleteWish(product._id, token)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rating text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rating-value\",\n          children: [product.rating, /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-star checked margin-l\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), \"(\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rating-number\",\n          children: \"2333\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 12\n        }, this), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"product-price\",\n        children: [\"Rs.\", product.price, \"/kg\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"original-price text-strike-through\",\n          children: [\"Rs.\", product.price * 1.2]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"discount-percentage\",\n          children: [product.discount, \"% off\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), data.cart.some(item => item._id === product._id) ? /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/cart\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-icon-text-primary-outline\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-shopping-basket margin-r\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), \"Go To Basket\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-icon-text-primary-outline\",\n        onClick: () => addCart(product, token),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"btn-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-shopping-basket margin-r\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), \"Add to Basket\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, product._id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductCard, \"VIzkKnrQpmgi/ISYxaNxLbmAC4s=\", false, function () {\n  return [useData];\n});\n\n_c = ProductCard;\nexport { ProductCard };\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["C:/Users/Personal/OneDrive/Documents/GitHub/FreshBuy-Ecommerce-React/src/components/productCard/ProductCard.jsx"],"names":["Link","useData","getWishlist","getCartlist","addCartlist","editCartlist","addWishlist","deleteWishlist","ProductCard","product","data","dispatch","token","wish","wishlist","some","item","_id","addWish","tokens","responsewishlist","encodedToken","find","res","type","payload","deleteWish","productid","productId","addCart","responsew","cart","console","log","image","title","rating","price","discount"],"mappings":";;;AAAA,SAASA,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SACEC,WADF,EAEEC,WAFF,EAGEC,WAHF,EAIEC,YAJF,EAKEC,WALF,EAMEC,cANF,QAOO,gBAPP;;;AAQA,MAAMC,WAAW,GAAG,QAAiB;AAAA;;AAAA,MAAhB;AAAEC,IAAAA;AAAF,GAAgB;AACnC,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA;AAAlB,MAA4BX,OAAO,EAAzC;AAEA,QAAMY,IAAI,GAAGH,IAAI,CAACI,QAAL,CAAcC,IAAd,CAAoBC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaR,OAAO,CAACQ,GAAlD,IACT,yBADS,GAET,cAFJ;;AAIA,iBAAeC,OAAf,CAAuBT,OAAvB,EAAgCU,MAAhC,EAAwC;AACtC,UAAMC,gBAAgB,GAAG,MAAMlB,WAAW,CAAC;AAAEmB,MAAAA,YAAY,EAAEF;AAAhB,KAAD,CAA1C;;AACA,QACE,CAACC,gBAAgB,CAACV,IAAjB,CAAsBI,QAAtB,CAA+BQ,IAA/B,CAAqCN,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaR,OAAO,CAACQ,GAAnE,CADH,EAEE;AACA,YAAMM,GAAG,GAAG,MAAMjB,WAAW,CAAC;AAAEG,QAAAA,OAAO,EAAEA,OAAX;AAAoBY,QAAAA,YAAY,EAAEF;AAAlC,OAAD,CAA7B;AACAR,MAAAA,QAAQ,CAAC;AAAEa,QAAAA,IAAI,EAAE,eAAR;AAAyBC,QAAAA,OAAO,EAAEF,GAAG,CAACb,IAAJ,CAASI;AAA3C,OAAD,CAAR;AACD;AACF;;AAED,iBAAeY,UAAf,CAA0BC,SAA1B,EAAqCR,MAArC,EAA6C;AAC3C,UAAMC,gBAAgB,GAAG,MAAMb,cAAc,CAAC;AAC5CqB,MAAAA,SAAS,EAAED,SADiC;AAE5CN,MAAAA,YAAY,EAAEF;AAF8B,KAAD,CAA7C;AAIAR,IAAAA,QAAQ,CAAC;AACPa,MAAAA,IAAI,EAAE,eADC;AAEPC,MAAAA,OAAO,EAAEL,gBAAgB,CAACV,IAAjB,CAAsBI;AAFxB,KAAD,CAAR;AAID;;AAED,iBAAee,OAAf,CAAuBpB,OAAvB,EAAgCU,MAAhC,EAAwC;AACtC,UAAMW,SAAS,GAAG,MAAM3B,WAAW,CAAC;AAAEkB,MAAAA,YAAY,EAAEF;AAAhB,KAAD,CAAnC;;AACA,QAAI,CAACW,SAAS,CAACpB,IAAV,CAAeqB,IAAf,CAAoBT,IAApB,CAA0BN,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaR,OAAO,CAACQ,GAAxD,CAAL,EAAmE;AACjE,YAAMM,GAAG,GAAG,MAAMnB,WAAW,CAAC;AAAEK,QAAAA,OAAO,EAAEA,OAAX;AAAoBY,QAAAA,YAAY,EAAEF;AAAlC,OAAD,CAA7B;AACAR,MAAAA,QAAQ,CAAC;AAAEa,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,OAAO,EAAEF,GAAG,CAACb,IAAJ,CAASqB;AAAvC,OAAD,CAAR;AACD,KAHD,MAGO;AACL,YAAMR,GAAG,GAAG,MAAMlB,YAAY,CAAC;AAC7BuB,QAAAA,SAAS,EAAEnB,OAAO,CAACQ,GADU;AAE7BI,QAAAA,YAAY,EAAEF,MAFe;AAG7BK,QAAAA,IAAI,EAAE;AAHuB,OAAD,CAA9B;AAKAQ,MAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACb,IAAJ,CAASqB,IAArB;AACApB,MAAAA,QAAQ,CAAC;AAAEa,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,OAAO,EAAEF,GAAG,CAACb,IAAJ,CAASqB;AAAvC,OAAD,CAAR;AACD;AACF;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACE;AAAK,QAAA,GAAG,EAAEtB,OAAO,CAACyB,KAAlB;AAAyB,QAAA,GAAG,EAAEzB,OAAO,CAAC0B;AAAtC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA,mBACG1B,OAAO,CAAC0B,KADX,eAEE;AAAA,iCACE;AACE,YAAA,SAAS,EAAEtB,IADb;AAEE,YAAA,OAAO,EAAE,MACPA,IAAI,KAAK,cAAT,GACIK,OAAO,CAACT,OAAD,EAAUG,KAAV,CADX,GAEIc,UAAU,CAACjB,OAAO,CAACQ,GAAT,EAAcL,KAAd;AALlB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAeE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,gCACE;AAAM,UAAA,SAAS,EAAC,cAAhB;AAAA,qBACGH,OAAO,CAAC2B,MADX,eAEE;AAAG,YAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,oBAKG;AAAM,UAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALH;AAAA;AAAA;AAAA;AAAA;AAAA,cAfF,eAsBE;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA,0BACM3B,OAAO,CAAC4B,KADd,sBAEE;AAAM,UAAA,SAAS,EAAC,oCAAhB;AAAA,4BACM5B,OAAO,CAAC4B,KAAR,GAAgB,GADtB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKE;AAAM,UAAA,SAAS,EAAC,qBAAhB;AAAA,qBAAuC5B,OAAO,CAAC6B,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBF,EA6BG5B,IAAI,CAACqB,IAAL,CAAUhB,IAAV,CAAgBC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaR,OAAO,CAACQ,GAA9C,iBACC,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,OAAT;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,mCAAlB;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,UAAhB;AAAA,mCACE;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADD,gBAUC;AACE,QAAA,SAAS,EAAC,mCADZ;AAEE,QAAA,OAAO,EAAE,MAAMY,OAAO,CAACpB,OAAD,EAAUG,KAAV,CAFxB;AAAA,gCAIE;AAAM,UAAA,SAAS,EAAC,UAAhB;AAAA,iCACE;AAAG,YAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAvCJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA,KAA8CH,OAAO,CAACQ,GAAtD;AAAA;AAAA;AAAA;AAAA,UADF;AAyDD,CArGD;;GAAMT,W;UAC8BP,O;;;KAD9BO,W;AAuGN,SAASA,WAAT","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { useData } from \"../../contexts\";\r\nimport {\r\n  getWishlist,\r\n  getCartlist,\r\n  addCartlist,\r\n  editCartlist,\r\n  addWishlist,\r\n  deleteWishlist,\r\n} from \"../../services\";\r\nconst ProductCard = ({ product }) => {\r\n  const { data, dispatch, token } = useData();\r\n\r\n  const wish = data.wishlist.some((item) => item._id === product._id)\r\n    ? \"fas fa-heart wishlisted\"\r\n    : \"far fa-heart\";\r\n\r\n  async function addWish(product, tokens) {\r\n    const responsewishlist = await getWishlist({ encodedToken: tokens });\r\n    if (\r\n      !responsewishlist.data.wishlist.find((item) => item._id === product._id)\r\n    ) {\r\n      const res = await addWishlist({ product: product, encodedToken: tokens });\r\n      dispatch({ type: \"LOAD_WISHLIST\", payload: res.data.wishlist });\r\n    }\r\n  }\r\n\r\n  async function deleteWish(productid, tokens) {\r\n    const responsewishlist = await deleteWishlist({\r\n      productId: productid,\r\n      encodedToken: tokens,\r\n    });\r\n    dispatch({\r\n      type: \"LOAD_WISHLIST\",\r\n      payload: responsewishlist.data.wishlist,\r\n    });\r\n  }\r\n\r\n  async function addCart(product, tokens) {\r\n    const responsew = await getCartlist({ encodedToken: tokens });\r\n    if (!responsew.data.cart.find((item) => item._id === product._id)) {\r\n      const res = await addCartlist({ product: product, encodedToken: tokens });\r\n      dispatch({ type: \"LOAD_CART\", payload: res.data.cart });\r\n    } else {\r\n      const res = await editCartlist({\r\n        productId: product._id,\r\n        encodedToken: tokens,\r\n        type: \"increment\",\r\n      });\r\n      console.log(res.data.cart);\r\n      dispatch({ type: \"LOAD_CART\", payload: res.data.cart });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card-container vertical\" key={product._id}>\r\n      <div className=\"card-img vertical-img border-bottom\">\r\n        <img src={product.image} alt={product.title} />\r\n      </div>\r\n      <div className=\"card-details card-details-vertical\">\r\n        <h2 className=\"card-heading\">\r\n          {product.title}\r\n          <span>\r\n            <i\r\n              className={wish}\r\n              onClick={() =>\r\n                wish === \"far fa-heart\"\r\n                  ? addWish(product, token)\r\n                  : deleteWish(product._id, token)\r\n              }\r\n            ></i>\r\n          </span>\r\n        </h2>\r\n        {/* <p className=\"card-sub-heading\">{product.description}</p> */}\r\n        <div className=\"rating text-sm\">\r\n          <span className=\"rating-value\">\r\n            {product.rating}\r\n            <i className=\"fa fa-star checked margin-l\"></i>\r\n          </span>\r\n          (<span className=\"rating-number\">2333</span>)\r\n        </div>\r\n        <h4 className=\"product-price\">\r\n          Rs.{product.price}/kg\r\n          <span className=\"original-price text-strike-through\">\r\n            Rs.{product.price * 1.2}\r\n          </span>\r\n          <span className=\"discount-percentage\">{product.discount}% off</span>\r\n        </h4>\r\n        {data.cart.some((item) => item._id === product._id) ? (\r\n          <Link to=\"/cart\">\r\n            <button className=\"btn btn-icon-text-primary-outline\">\r\n              <span className=\"btn-icon\">\r\n                <i className=\"fa fa-shopping-basket margin-r\"></i>\r\n              </span>\r\n              Go To Basket\r\n            </button>\r\n          </Link>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-icon-text-primary-outline\"\r\n            onClick={() => addCart(product, token)}\r\n          >\r\n            <span className=\"btn-icon\">\r\n              <i className=\"fa fa-shopping-basket margin-r\"></i>\r\n            </span>\r\n            Add to Basket\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { ProductCard };\r\n"]},"metadata":{},"sourceType":"module"}